import Link from "next/link";
import { useEffect, useState } from "react";
const scrolledNav =
  "top-0 inset-x-0 rounded-none py-2 bg-white/70 backdrop-blur-sm";
const notScrolledNav =
  "top-4 inset-x-4 lg:inset-x-12 rounded-full py-4 bg-white/2 backdrop-blur-md shadow-lg";
export default function Navbar() {
  const [headerClassName, setHeaderClassName] = useState(notScrolledNav);

  const handleScroll = (headerClassName) => {
    if (headerClassName !== scrolledNav && window.scrollY >= 100) {
      setHeaderClassName(scrolledNav);
    } else if (headerClassName === scrolledNav && window.scrollY < 100) {
      setHeaderClassName(notScrolledNav);
    }
  };
  useEffect(() => {
    window.onscroll = () => handleScroll(headerClassName);
  }, [headerClassName]);

  return (
    <nav
      className={`fixed z-50 select-none text-sm transition-all duration-200 ease-in-out shadow-slate-500/10 border border-slate-100/30 ${headerClassName}`}
    >
      <div className="flex justify-between px-6 items-center">
        <svg
          width="107"
          height="25"
          class="inline-block"
          viewBox="0 0 107 25"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M8.02788 24.3394C3.44606 24.3394 0.425453 21.1491 0.425453 15.8545C0.425453 10.56 3.44606 7.3697 8.06182 7.3697C12.1006 7.3697 14.6461 9.74545 15.2909 13.0376L13.1527 13.9539C12.8133 11.2048 11.1842 9.20242 8.06182 9.20242C4.83757 9.20242 2.69939 11.5103 2.69939 15.8545C2.69939 20.1648 4.83757 22.4727 8.06182 22.4727C11.1842 22.4727 12.8133 20.5042 13.1527 17.7551L15.2909 18.6715C14.6461 21.9636 12.1006 24.3394 8.02788 24.3394Z"
            fill="black"
          ></path>
          <path d="M21.2483 24H19.0083V1.2606H21.2483V24Z" fill="black"></path>
          <path
            d="M29.192 24.3394C26.5108 24.3394 24.9835 22.88 24.9835 20.7079C24.9835 18.5697 26.5787 17.2121 28.8526 16.1939L35.0296 13.377V13.2412C35.0296 10.7976 33.8756 9.37212 31.2284 9.37212C28.7847 9.37212 27.0199 10.7636 26.1714 12.5624L24.6102 11.0012C25.6284 9.30424 28.0041 7.3697 31.4659 7.3697C35.2672 7.3697 37.2356 9.57576 37.2356 13.2073V20.8436C37.2356 21.6921 37.609 21.9976 38.3896 21.9976H39.3399V24H37.8126C36.1835 24 35.0975 23.2873 35.0975 21.217V19.4861C34.5544 21.8279 32.4502 24.3394 29.192 24.3394ZM27.2235 20.4024C27.2235 21.76 28.2417 22.4727 29.8369 22.4727C32.8575 22.4727 35.0975 20.1309 35.0975 17.9248V15.04L29.8029 17.5515C28.0381 18.3661 27.2235 19.1806 27.2235 20.4024Z"
            fill="black"
          ></path>
          <path
            d="M48.6859 24.3394C45.3599 24.3394 42.2375 22.8461 41.2532 19.6558L42.9163 18.4C43.4253 20.6061 45.4617 22.4388 48.7538 22.4388C50.9259 22.4388 52.3514 21.5564 52.3514 19.8594C52.3514 18.1624 50.892 17.5515 48.6859 17.0424L46.4799 16.5333C44.1381 15.9564 41.7284 14.8703 41.7284 11.9515C41.7284 9.13454 43.9684 7.3697 47.3284 7.3697C50.7902 7.3697 53.0641 9.10061 53.8787 11.4085L52.1817 12.6642C51.435 10.4582 49.7381 9.23636 47.1926 9.23636C45.2241 9.23636 43.8326 10.1527 43.8326 11.8497C43.8326 13.5467 45.0544 14.1576 47.4302 14.7345L49.6023 15.2776C52.9963 16.1261 54.3538 17.5176 54.3538 19.8255C54.3538 22.9479 51.7066 24.3394 48.6859 24.3394Z"
            fill="black"
          ></path>
          <path
            d="M63.9653 24.3394C60.6392 24.3394 57.5168 22.8461 56.5326 19.6558L58.1956 18.4C58.7047 20.6061 60.7411 22.4388 64.0332 22.4388C66.2053 22.4388 67.6308 21.5564 67.6308 19.8594C67.6308 18.1624 66.1714 17.5515 63.9653 17.0424L61.7592 16.5333C59.4174 15.9564 57.0077 14.8703 57.0077 11.9515C57.0077 9.13454 59.2477 7.3697 62.6077 7.3697C66.0695 7.3697 68.3435 9.10061 69.158 11.4085L67.4611 12.6642C66.7144 10.4582 65.0174 9.23636 62.472 9.23636C60.5035 9.23636 59.112 10.1527 59.112 11.8497C59.112 13.5467 60.3338 14.1576 62.7095 14.7345L64.8817 15.2776C68.2756 16.1261 69.6332 17.5176 69.6332 19.8255C69.6332 22.9479 66.9859 24.3394 63.9653 24.3394Z"
            fill="black"
          ></path>
          <path
            d="M75.6375 4.7903H73.3975V1.2606H75.6375V4.7903ZM75.6375 24H73.3975V7.70909H75.6375V24Z"
            fill="black"
          ></path>
          <path
            d="M83.7509 24H81.5448V9.44H78.8636V7.70909H81.5448V5.80848C81.5448 2.51636 83.5812 0.921211 86.6018 0.921211C89.1133 0.921211 90.9121 2.24485 91.6588 3.19515L90.437 4.7903C89.6903 3.73818 88.197 2.78788 86.5 2.78788C84.803 2.78788 83.7509 3.70424 83.7509 5.87636V7.70909H92.7449V24H90.5049V9.44H83.7509V24Z"
            fill="#4F46E5"
          ></path>
          <path
            d="M102.325 24.3733C99.8469 24.3733 97.9124 22.8121 97.9124 19.8594V9.44H95.2651V7.70909H97.9124V5.36727L100.118 3.70424V7.70909H105.583V9.44H100.118V19.2485C100.118 21.5903 101.34 22.2352 102.766 22.2352C104.225 22.2352 105.413 21.183 105.956 20.0291L106.737 22.2012C106.024 23.3891 104.429 24.3733 102.325 24.3733Z"
            fill="#4F46E5"
          ></path>
        </svg>
        <Link href="/mailing-list" target="_blank" className="button">
          Prova la demo gratuita
        </Link>
      </div>
    </nav>
  );
}
