import { isTopScrolledAtom } from "@/pages/_app";
import { useAtom } from "jotai";
import Link from "next/link";

const scrolledNav = "top-0 bg-indigo-600 py-2 w-full";
const notScrolledNav = "top-0 w-full py-8 bg-indigo-600";

export default function Navbar() {
  const [isTopScrolled] = useAtom(isTopScrolledAtom);

  return (
    <nav
      className={`fixed z-50 select-none text-sm transition-all duration-200 ease-in-out ${
        isTopScrolled ? notScrolledNav : scrolledNav
      }`}
    >
      <div className="container">
        <div className="flex justify-between items-center">
          <div className="flex items-center gap-12">
            <svg
              width="113"
              height="25"
              viewBox="0 0 113 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="-mt-1"
            >
              <path
                d="M8.48291 24.8565C3.67015 24.8565 0.497301 21.5054 0.497301 15.944C0.497301 10.3826 3.67015 7.03149 8.51856 7.03149C12.7609 7.03149 15.4347 9.52699 16.112 12.985L13.8661 13.9476C13.5096 11.0599 11.7984 8.95659 8.51856 8.95659C5.13181 8.95659 2.88585 11.3808 2.88585 15.944C2.88585 20.4715 5.13181 22.8957 8.51856 22.8957C11.7984 22.8957 13.5096 20.828 13.8661 17.9404L16.112 18.9029C15.4347 22.361 12.7609 24.8565 8.48291 24.8565ZM22.3697 24.5H20.0168V0.61448H22.3697V24.5ZM30.7138 24.8565C27.8974 24.8565 26.2932 23.3235 26.2932 21.0419C26.2932 18.796 27.9687 17.37 30.3573 16.3005L36.8456 13.3415V13.1989C36.8456 10.6321 35.6335 9.13484 32.8528 9.13484C30.286 9.13484 28.4322 10.5965 27.5409 12.4859L25.901 10.846C26.9705 9.06354 29.466 7.03149 33.1023 7.03149C37.0951 7.03149 39.1628 9.34874 39.1628 13.1633V21.1845C39.1628 22.0758 39.555 22.3966 40.3749 22.3966H41.3731V24.5H39.7689C38.0577 24.5 36.9169 23.7513 36.9169 21.5767V19.7585C36.3465 22.2184 34.1362 24.8565 30.7138 24.8565ZM28.6461 20.7211C28.6461 22.1471 29.7156 22.8957 31.3911 22.8957C34.564 22.8957 36.9169 20.4359 36.9169 18.1186V15.0884L31.3555 17.7265C29.5017 18.5821 28.6461 19.4377 28.6461 20.7211ZM51.1902 24.8565C47.6965 24.8565 44.4167 23.2879 43.3829 19.9368L45.1297 18.6177C45.6645 20.935 47.8035 22.8601 51.2615 22.8601C53.5431 22.8601 55.0405 21.9332 55.0405 20.1507C55.0405 18.3682 53.5075 17.7265 51.1902 17.1917L48.873 16.657C46.4131 16.0509 43.882 14.9101 43.882 11.8442C43.882 8.88529 46.2349 7.03149 49.7642 7.03149C53.4005 7.03149 55.7891 8.84964 56.6447 11.2738L54.8622 12.5929C54.0779 10.2756 52.2954 8.99224 49.6216 8.99224C47.5539 8.99224 46.0923 9.95479 46.0923 11.7373C46.0923 13.5198 47.3757 14.1615 49.8712 14.7675L52.1528 15.3379C55.7178 16.2292 57.1438 17.6908 57.1438 20.115C57.1438 23.3948 54.3631 24.8565 51.1902 24.8565ZM67.2397 24.8565C63.746 24.8565 60.4662 23.2879 59.4324 19.9368L61.1792 18.6177C61.714 20.935 63.853 22.8601 67.311 22.8601C69.5926 22.8601 71.0899 21.9332 71.0899 20.1507C71.0899 18.3682 69.557 17.7265 67.2397 17.1917L64.9225 16.657C62.4626 16.0509 59.9315 14.9101 59.9315 11.8442C59.9315 8.88529 62.2844 7.03149 65.8137 7.03149C69.45 7.03149 71.8386 8.84964 72.6942 11.2738L70.9117 12.5929C70.1274 10.2756 68.3449 8.99224 65.6711 8.99224C63.6034 8.99224 62.1418 9.95479 62.1418 11.7373C62.1418 13.5198 63.4252 14.1615 65.9207 14.7675L68.2023 15.3379C71.7673 16.2292 73.1933 17.6908 73.1933 20.115C73.1933 23.3948 70.4126 24.8565 67.2397 24.8565ZM79.5003 4.32208H77.1474V0.61448H79.5003V4.32208ZM79.5003 24.5H77.1474V7.38799H79.5003V24.5ZM88.0226 24.5H85.7053V9.20614H82.889V7.38799H85.7053V5.39158C85.7053 1.93353 87.8443 0.257981 91.0172 0.257981C93.6553 0.257981 95.5447 1.64833 96.329 2.64653L95.0456 4.32208C94.2613 3.21693 92.6927 2.21873 90.9102 2.21873C89.1277 2.21873 88.0226 3.18128 88.0226 5.46288V7.38799H97.4698V24.5H95.1169V9.20614H88.0226V24.5ZM107.532 24.8922C104.93 24.8922 102.898 23.2522 102.898 20.1507V9.20614H100.117V7.38799H102.898V4.92813L105.215 3.18128V7.38799H110.955V9.20614H105.215V19.509C105.215 21.9688 106.498 22.6462 107.996 22.6462C109.529 22.6462 110.776 21.541 111.347 20.3289L112.167 22.6105C111.418 23.8583 109.743 24.8922 107.532 24.8922Z"
                fill="white"
              />
            </svg>
            <Link href="https://www.instagram.com/app.classi.fit/" target="_blank" className="nav-link hidden lg:block">
              Instagram
            </Link>
            <Link href="https://www.facebook.com/profile.php?id=61551922481738" target="_blank" className="nav-link hidden lg:block">
              Facebook
            </Link>
            <Link href="mailto:classifit.studio@gmail.com" className="nav-link hidden lg:block">
              classifit.studio@gmail.com
            </Link>
          </div>

          <div className="flex items-center justify-center gap-12">
            <Link
              href="https://calendly.com/classifit/contatti"
              target="_blank"
              className="button"
            >
              <div className="flex gap-2 hover:gap-4 transition-all duration-200 ease-in-out">
                <span className="text-black text-base">
                  Contattaci
                </span>
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke-width="1.5"
                  stroke="currentColor"
                  class="w-6 h-6"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    d="M17.25 8.25L21 12m0 0l-3.75 3.75M21 12H3"
                  />
                </svg>
              </div>
            </Link>
          </div>
        </div>
      </div>
    </nav>
  );
}
